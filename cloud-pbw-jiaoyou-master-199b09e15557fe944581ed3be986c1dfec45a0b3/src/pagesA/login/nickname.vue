<!--
 * @Author: Jin Biao
 * @Date: 2021-06-15 11:16:55
 * @LastEditTime: 2023-02-12 21:50:09
 * @Description:  èµ·å
-->
<template>
  <view>
    <view class="setUp">
      <text class="title">èµ·ä¸€ä¸ªå¥½å¬çš„åå­—</text>
      <view class="row">
        <u--input v-model="name" shape="circle" placeholder="è¯·è¾“å…¥æ˜µç§°" label-width="0" type="text" clearable input-align="center"></u--input>
      </view>
      <view class="random" @click="randomBtn">
        <text class="iconfont">&#xe743;</text>
        éšæœºèµ·ä¸€ä¸ª
      </view>
      <view class="btncor">
        <u-button type="primary" ripple shape="circle" @click="next">ä¸‹ä¸€æ­¥</u-button>
      </view>
    </view>
  </view>
</template>

<script>
export default {
  data() {
    return {
      name: ''
    }
  },
  methods: {
    next() {
      if (this.name == '' || this.name.length > 8) {
        uni.showToast({
          title: 'è¯·ç»™è‡ªå·±èµ·ä¸ªåå­—ï¼ˆæœ€å¤š8ä¸ªå­—ï¼‰',
          icon: 'none',
          duration: 3000
        })
        return
      }
      uni.setStorageSync('login_name', this.name)
      uni.navigateTo({
        url: '/pagesA/login/sex'
      })
    },
    randomBtn() {
      let vm = this
      var xing = 'è¾æ—,å†°å²¸,è¯—é›ª,äº‘æ¬£,äº‘èˆ’,æ¸…æŒ‡,é™Œæ˜Œ,ç«¹å›,å¯’äº‘,è¨€å¿—,é›ªç‘¶,æ¨æ·±,é£æ³‰,ç§‹å¯’,ç™¾é‡Œ,ä¸Šå®˜,æ…•å®¹,ç«¯æœ¨,å…¬,èŒƒ,å°,æ…•å®¹,æ›²é£,é˜¿,æƒ…,éƒ,æ˜­,æ‚Ÿä¾,ç¿ èŠ™,é–é›,é›…è“‰,å®‰å‰'
      var ming =
        'æ‰¿å¤©,ç»´æ–°,æµ·æ˜,æ™“æ¸¸,é›ªæ™º,æ€€ä»•,ç»®æ¢…,åº¦å­£,å¹½å€š,æ™“ç™½,é£,æ¸…,é£˜é£˜,èŠ±å°,æœµ,å­¤å•,æ¡“,æœˆ,åª›,ä»çƒ,ç’Ÿ,é›¨è”š,ç« ç¿±æ,è¤šè²è´¤,è¾¹æ–Œ,é›ª,ç¦¹ç’Ÿ,è²,å‘æ™¨ç›,å¢¨å“ˆ,æ¥ é€¸,éƒæ˜­éª,æ·‘é€¸,éŸ¦é’°èˆª,å·´,è‰¯æ™¨,ğŸ˜—,ğŸ’•,ä¸‡ç¾,æ°”çƒˆ,é»›äº¦,è¾¾å¿—,å…°æ˜•,é›ªç‘¶,æ³‰æµ,å±ˆé“,ç¥èª“,å¤•æ”¹,ä¸¹å˜‰,ç„åˆš,æ±Ÿè‹‘,åŒå–„,å¼˜æ¯…,å…´æ­,å¥ä½™,æ¨æ˜,çŠå…°,æœˆæ˜,ä½©é›…,ä»¥äº¦,æ´ªæ³¢,æ€ç¦,è¯—å,æ™“ç„¶,è‡ªæ€¡,å«çƒŸ,ä¹å§—,å£¤åŠŸ,ä¹æ¾,å¹³å®‰'
      function namea(c, d) {
        var xinga = c.split(',')
        var minga = d.split(',')
        return xinga[Math.floor(Math.random() * xinga.length)] + minga[Math.floor(Math.random() * minga.length)]
      }
      vm.name = namea(xing, ming) + ''
    }
  },
  onLoad() {
    if (uni.getStorageSync('login_name')) {
      this.name = uni.getStorageSync('login_name')
    }
  }
}
</script>

<style lang="scss" scoped>
.setUp {
  padding-top: 200rpx;
  text-align: center;
  margin: 20rpx 15%;
  .random {
    margin: 60rpx 0;
    text-align: center;
    color: #9c5cff;
    text {
      margin-right: 10rpx;
    }
  }
  .title {
    font-size: 50rpx;
    font-weight: bold;
    margin: 20rpx 0;
  }
  .row {
    background: #f1f1f1;
    margin: 50rpx 0;
    border-radius: 40rpx;
  }
  .btncor {
    width: 60%;
    margin: auto;
  }
}
</style>
